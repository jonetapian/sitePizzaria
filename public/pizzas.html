<html lang="pt">
  <head>
    
    <title>Beleza Pura</title>  
      
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="compiler/bootstrap.css">
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
    <link rel="stylesheet" href="compiler/styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css">
    <link rel="icon" href="imgs/iconePizza.png" type="image/gif">
    <link rel="stylesheet" href="social-login.css">
    <link href="https://fonts.googleapis.com/css?family=Port+Lligat+Slab&display=swap" rel="stylesheet">
      
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.4/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-database.js"></script>
    <script src="firebase.js"></script>
    <script src="Login.js"></script>
    <script src="carrinho.js"></script>
   </head>
    
  <body class="d-flex flex-column h-100">
      
      <nav class="navbar fixed-top navbar-expand-lg navbar-light corNav shadow">
          
          <div class="container-fluid line">
            
              <a class="navbar-brand font corFont my-auto" href="#"><h4 class="my-0">Beleza Pura</h4></a>
            
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navBarSite">
                  <span class="navbar-toggler-icon"></span>
              </button>

              <div class="collapse navbar-collapse " id="navBarSite">

                  <ul class="navbar-nav mr-auto ml-3 ">
                      <li class="nav-item ">
                          <a class="nav-link font ml-3 h5 my-0" href="index.html">Inicio</a>
                      </li>
                      <li class="nav-item dropdown">
                          <a class="nav-link font ml-3 h5 my-0" href="#">Pizzas</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link font ml-3 h5 my-0" href="esfihas.html">Esfihas</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link font ml-3 h5 my-0" href="porcoes.html">Fogazas e Porções</a>
                      </li>


                  </ul>
                  
                  <ul class="navbar-nav">
                      <div class="dropdown">
                          <li class="nav-item font">

                              <img src="imgs/perfil.png" class="" id="dropdownPerfil" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false" style="width: 40px; height: 40px; cursor: pointer;">
                              <div class="dropdown-menu dropdown-menu-right" aria-laballedby="dropdownPerfil">
                                  <a href="#" class="dropdown-item" data-toggle="modal" data-target="#divModal" id="btnMenuLogin" disabled>Fazer Login</a>
                                  <a href="#" class="dropdown-item" data-toggle="modal" data-target="#divModalCadastrar" id="btnMenuCadastro">Cadastrar-se</a>
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="dropdown-item" onclick="logout()" id="btnMenuSair">Sair</a>
                              </div>
                          </li>  
                      </div>
                      
                  </ul>
                  
              </div>
          </div>
      
      </nav>
      
      <div class="botaoFlutuante border border-light" data-toggle="modal" data-target="#modalCarrinho">
          <img src="imgs/carrinho.png" class="carrinhoFlutuante" >
      
      </div>
    
      <div class="container-fluid" style="margin-top: 76px;">
          
          <div class="float-right col-lg-10 mb-4 paddingZero">
              <div class="card p-0 border border-dark fontTexto corFont">
                  <h1 class="card-header text-center font corFont"><b>Promoções</b></h1>
                  <div class="row no-gutters">
                      <div class="col-md-4">
                          
                          <div class="card-body text-center">
                              
                              <div class="p-3 border border-dark rounded text-left bg-light">
                                  
                                  <p class="h5">Na compra de 2 pizzas GRÁTIS 01 Dolly</p>
                              </div>
                          </div>
                      </div>
                      <div class="col-md-4 border-left border-right bg-light">
                          <div class="card-body text-center">
                              <div class="p-3 border border-dark rounded bg-white text-left">
                                  <p class="h5">Borda recheada GRÁTIS de Terça a Quinta</p>
                              </div>
                          </div>
                          
                      </div>
                      <div class="col-md-4">
                          <div class="card-body text-center" style="">
                              <div class="p-3 border border-dark rounded fundoTransparencia text-left bg-light">

                                  <p class="h5 mb-2">Na compra de 3 pizzas GRÁTIS 01 Refrigerante de 1ª linha*</p>
                                  <p class="h5 text-danger">*Exceto nas pizzas da promoção(de R$20,00)</p>

                              </div>
                          </div>
                      </div>
                      
                  </div>
              </div>
          </div>
          
          <div class="card col-lg-2 bg-light py-2 mb-2 border rounded border-dark float-left position-fixed fontTexto text-dark" id="divFiltro" style="z-index: 1000">
              <form>
                  <h3 class="card-title font corFont">Filtros</h3>
                  <h5 class="card-subtitle">Ingredientes:</h5>
                  <ul class="p-0">
                      
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkMussarela" name="filtroDetalhe" value="mussarela" type="checkbox" class="form-check-input ">
                          <label for="checkMussarela" class="form-check-label">Mussarela</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkCalabresa" name="filtroDetalhe" value="calabresa" type="checkbox" class="form-check-input">
                          <label for="checkCalabresa" class="form-check-label">Calabresa</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkFrango" name="filtroDetalhe" value="frango" type="checkbox" class="form-check-input">
                          <label for="checkFrango" class="form-check-label">Frango</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkBacon" name="filtroDetalhe" value="bacon" type="checkbox" class="form-check-input">
                          <label for="checkBacon" class="form-check-label">Bacon</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkCatupiry" name="filtroDetalhe" value="catupiry" type="checkbox" class="form-check-input">
                          <label for="checkCatupiry" class="form-check-label">Catupiry</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkPresunto" name="filtroDetalhe" value="presunto" type="checkbox" class="form-check-input">
                          <label for="checkPresunto" class="form-check-label">Presunto</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkMilho" name="filtroDetalhe" value="milho" type="checkbox" class="form-check-input">
                          <label for="checkMilho" class="form-check-label">Milho</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkAtum" name="filtroDetalhe" value="atum" type="checkbox" class="form-check-input">
                          <label for="checkAtum" class="form-check-label">Atum</label>
                      </li>
                      <li class="form-check m-1 form-check-inline">
                          <input id="checkCarne" name="filtroDetalhe" value="carne" type="checkbox" class="form-check-input">
                          <label for="checkCarne" class="form-check-label">Carne</label>
                      </li>
                  </ul>
                  <h5>Preços:</h5>
                  <div class="row col-12">
                      <div class="form-check form-check-inline ">
                          <input id="check20" type="checkbox" name="filtroPreco" value="20" class="form-check-input">
                          <label class="form-check-label" for="check20">R$20,00</label>
                      </div>
                      <div class="form-check form-check-inline ">
                          <input id="check25" type="checkbox" name="filtroPreco" value="25" class="form-check-input">
                          <label class="form-check-label" for="check25">R$25,00</label>
                      </div>
                      <div class="form-check form-check-inline">
                          <input id="check28" type="checkbox" name="filtroPreco" value="28" class="form-check-input">
                          <label class="form-check-label" for="check28">R$28,00</label>
                      </div>
                      <div class="form-check form-check-inline ">
                          <input id="check30" type="checkbox" name="filtroPreco" value="30" class="form-check-input">
                          <label class="form-check-label" for="check30">R$30,00</label>
                      </div>
                  </div>
                  <h5>Tipo:</h5>
                  <div class="row col-12">
                      <div class="form-check form-check-inline" >
                          <input id="checkSalgada" type="checkbox" name="filtroTipo" value="salgado" class="form-check-input" onclick="tipo(this)">
                          <label class="form-check-label" for="checkSalgada">Salgada</label>
                      </div>
                      <div class="form-check form-check-inline">
                          <input id="checkDoce" type="checkbox" name="filtroTipo" value="doce" class="form-check-input" onclick="tipo(this)">
                          <label class="form-check-label" for="checkDoce">Doce</label>
                      </div>
                  </div>
                  <input type="button" class="btn btn-dark col-12 mt-3" onclick="btnFiltrar()" value="Filtrar">
              </form>
          </div>
          
          
          
          <div class="row float-right col-lg-10 paddingZero">
              
              <div class="col-12 row mb-5 border border-dark rounded fundoTransparencia" id="divPizzas">
                  <h1 class="text-center my-3 font col-12 corFont"><b>Pizzas</b></h1>
              </div>
          
          </div>
          
          <div class="row float-right col-lg-10 paddingZero">
              
              <div class="col-12 row mb-5 border border-dark rounded fundoTransparencia" id="divPizzasDoce">
                  <h1 class="text-center my-3 font col-12 corFont"><b>Pizzas Doce</b></h1>
              </div>
          </div>
          
      </div>
      <label id="lblMeio"></label>
      
    <footer class="footer mt-auto mb-0 corNav border-top">
      
        <div class="container-fluid text-center">
              
            <div class="row font corFont">
                  
                <div class="col-md-4 p-2 border-bottom">

                    <p class="h5">Pizzaria Beleza Pura</p>
                    <p class="h5">Rua Camuengo, Nº204, AE. Carvalho</p>

                </div>

                <div class="col-md-4 p-2 border-bottom">
                      
                    <p class="h5">Email: pizzariabelezapura12@gmail.com</p>
                    <p class="h5">WhatsApp: (11) 98142-3024</p>

                </div>

                <div class="col-md-4 p-2 border-bottom">

                    <p class="h5">Horário de Atendimento</p>
                    <p class="h5">Terça a Quinta e Domingo: 19:00 - 00:00hrs</p>
                    <p class="h5">Sexta e Sábado: 19:00 - 01:00hrs</p>
                      
                </div>
            </div>
              

        </div>
    </footer>
      
      <!-- MODAIS -->
      
      <div class="modal fade" id="divModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font" id="exampleModalLabel">Fazer login</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="caixa-email" class="col-form-label font">Email:</label>
                            <input type="email" id="txtEmail" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="caixa-senha" class="col-form-label font">Senha:</label>
                            <input type="password" id="txtSenha" class="form-control">
                        </div>
                        
                    </form>
                </div>
                <div class="modal-footer font">
                    <a href="#" class="mr-auto text-danger" data-toggle="modal" data-target="#divModalCadastrar" data-dismiss="modal">Cadastrar-se</a>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button type="submit" id="btnLogin" class="btn btn-danger">Entrar</button>
                </div>
            </div>
        </div>
    </div>
      
    <div class="modal fade" id="divModalCadastrar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header ">
                    <h5 class="modal-title font corFont " id="exampleModalLabel">Fazer cadastro</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="caixa-cep" class="col-form-label font">CEP:</label>
                            <input name="cep" type="text" id="cep" class="form-control" onkeypress="$(this).mask('00000-000')" placeholder="00000-000">
                        
                        </div>
                        <div class="form-group p-1">
                            <label for="txtNomeCadastrar" class="col-form-label font">Nome:</label>
                            <input type="text" id="txtNomeCadastrar" class="form-control" required>
                        </div>
                        <div class="form-group p-1">
                            <label for="txtEmailCadastrar" class="col-form-label font">Email:</label>
                            <input type="email" id="txtEmailCadastrar" class="form-control">
                        </div>
                        <div class="form-group col-6 float-left p-1">
                            <label for="txtSenhaCadastrar" class="col-form-label font">Senha:</label>
                            <div class="input-group">
                                <input type="password" id="txtSenhaCadastrar" class="form-control border-right-0">
                                <div class="input-group-append ">
                                    <div class="btn btn-outline-secondary form-control border border-dark "><img src="imgs/mostrarSenha.png" id="showPassword" value="show" height="25px"/></div>
                                    
                                </div>
                            </div>
                            
                        </div>
                        <div class="form-group col-6 float-left p-1">
                            <label for="txtConfirmarSenhaCadastrar" class="col-form-label font">Confirmar senha:</label>
                            <input type="password" id="txtConfirmarSenhaCadastrar" class="form-control">
                        </div>
                        
                        
                    </form>
                </div>
                <div class="modal-footer font">
                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button type="button" id="btnCadastrar" class="btn btn-danger">Cadastrar</button>
                </div>
            </div>
        </div>
    </div>
      
    <div class="modal fade" id="modalCarrinho" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font" id="exampleModalLabel">Carrinho</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <table class="table mb-0">
                    <thead class="fontTexto bg-light">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Item</th>
                            <th scope="col">Quantidade</th>
                            <th scope="col">Preço</th>
                            <th scope="col">Total</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="pizzaCarrinho" class="fontTexto text-dark">
                        
                    </tbody>
                    <tr class="fontTexto bg-light">
                        <td colspan="4" >Total:</td>
                        <td colspan="2" id="totalCarrinho"></td>
                    </tr>
                </table>
                <!--<div id="pizzaCarrinho"></div>-->
                
                
                <div class="modal-footer font">
                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button type="button" id="btnFinalizarCompra" class="btn btn-danger" data-dismiss="modal">Finalizar compra</button>
                </div>
            </div>
        </div>
    </div>
      
      <div class="modal fade" id="modalPizza" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font" id="exampleModalLabel">Cadastrar</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="caixa-cep" class="col-form-label font">Nome:</label>
                            <input type="text" id="txtNome" class="form-control">
                        
                        </div>
                        <div class="form-group">
                            <label for="caixa-email" class="col-form-label font">Valor Grande:</label>
                            <input type="text" id="txtValorGrande" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="caixa-email" class="col-form-label font">Valor Broto:</label>
                            <input type="text" id="txtValorBroto" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="caixa-senha" class="col-form-label font">Detalhes:</label>
                            <input type="text" id="txtDetalhes" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="caixa-senha" class="col-form-label font">Tipo:</label>
                            <input type="text" id="txtTipo" class="form-control">
                        </div>
                        
                    </form>
                </div>
                <div class="modal-footer">
                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Sair</button>
                    <button type="button" id="btnAdicionarPizza" class="btn btn-primary" data-dismiss="modal">Cadastrar</button>
                </div>
            </div>
        </div>
      </div>
      
      <div class="modal fade" id="modalComprar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header font">
                    Finalizando sua compra !
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="caixa-email" class="h5 fontTexto" id="lblPizza"></label>
                            <br/>
                            <label class="h5 fontTexto">Coloque a quantidade - </label>
                            <input type="number" id="quantidade" style="height: 20px;" name="tentacles" value="1" min="1" max="10">
                            <br>
                            <label class="h5 fontTexto">Tamanho :</label>
                            <div class="form-check-inline fontTexto" id="rdTamanho">
                                <input type="radio" class="form-check-input" name="tamanho"  id="rdGrande" checked>
                                <label class="form-check-label" id="tamanhoGrande" for="rdGrande" />
                            </div>
                            <div class="form-check-inline fontTexto">
                                <input type="radio" class="form-check-input" name="tamanho"  id="rdBroto">
                                <label class="form-check-label" id="tamanhoBroto" for="rdBroto"/>
                            </div>
                        </div>
                         <hr class="featurette-divider">
                        <label class="fontTexto h5">Selecione se quiser tirar um dos ingredientes :</label>
                        <div class="form-group fontTexto" id="inputDetalhes">

                        </div>
                        <hr class="featurette-divider">
                        <label class="fontTexto h5">Selecione se quiser borda recheada por apenas R$ 3,00  :</label>
                        <div class="form-group">
                            <div class="form-check-inline" id="rdExtra">
                                    <label class="form-check-label fontTexto">
                                        <input type="radio" class="form-check-input" name="borda" value="cheddar">Cheddar
                                    </label>
                                </div>
                            <div class="form-check-inline">
                                <label class="form-check-label fontTexto">
                                    <input type="radio" class="form-check-input" name="borda" value="catupiry">Catupiry
                                </label>
                            </div>
                        </div>
                       
                        <hr class="featurette-divider">
                        <label class="fontTexto h5">Selecione se quiser um dos ingredientes extras por apenas R$ 3,00  :</label>
                        <div class="form-group fontTexto">
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraErvilha" value="ervilha" >
                            <label class="form-check-inline" for="ingredienteExtraErvilha">Ervilha</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraMilho" value="milho" >
                            <label class="form-check-inline" for="ingredienteExtraMilho">Milho</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraPalmito"  value="palmito">
                            <label class="form-check-inline" for="ingredienteExtraPalmito">Palmito</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraOvo" value="ovo">
                            <label class="form-check-inline" for="ingredienteExtraOvo">Ovo</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraParmesao" value="parmesao">
                            <label class="form-check-inline" for="ingredienteExtraParmesao">Parmesão</label>
                            <br>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraProvolone" value="provolone">
                            <label class="form-check-inline" for="ingredienteExtraProvolone">Provolone</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraBacon" value="bacon">
                            <label class="form-check-inline" for="ingredienteExtraBacon">Bacon</label>
                            
                            
                        </div>
                        <hr class="featurette-divider">
                        <label class="fontTexto h5">Selecione se quiser um dos ingredientes extras por apenas R$ 5,00  :</label>
                        <div class="form-group">
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraCatupiry" value="catupiry">
                            <label class="fontTexto form-check-inline" for="ingredienteExtraCatupiry">Catupiry</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraCheddar" value="cheddar" >
                            <label class="fontTexto form-check-inline" for="ingredienteExtraCheddar">Cheddar</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraCalabresa" value="calabresa" >
                            <label class="fontTexto form-check-inline" for="ingredienteExtraCalabresa">Calabresa</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraPresunto" value="presunto">
                            <label class="fontTexto form-check-inline" for="ingredienteExtraPresunto">Presunto</label>
                            
                            <input type="checkbox" name="ingredienteExtra" id="ingredienteExtraFrango" value="frango">
                            <label class="fontTexto form-check-inline" for="ingredienteExtraFrango">Frango</label>

                        </div>
                        <hr class="featurette-divider">

                        <div class="form-group">
                            <button type="button" id="btnAddCarrinho" href="#" placeholder="Adicionar carrinho" class="fontTexto form-control" onclick="adicionarCarrinho()" data-dismiss="modal">Adicionar ao carrinho</button>
                        </div>
                       <div class="form-group">
                            <button type="button" id="btnFinalizarCompra" href="#" placeholder="Finalizar compra" class="fontTexto form-control" onclick="pegarDadosCompra()">Finalizar a compra</button>
                        </div>
                     
                       
                        
                        
                    </form>
                </div>
                <div class="modal-footer">
                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Sair</button>
                    
                </div>
            </div>
        </div>
      </div>
      
      <div class="modal fade" id="modalMeio" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header fontTexto">
                    Meia pizza !
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="caixa-email" class="col-form-label fontTexto" id="lblPizzaMeio"></label>
                            <br/>
                           
                           
                
                        </div>
                        <label class="fontTexto">Selecione se quiser tirar um dos ingredientes :</label>
                        <div class="form-group" id="inputDetalhesMeio">

                        </div>

                        <div class="form-group">
                            <button type="button" id="btnOutraMetade" href="#" placeholder="Selecionar a outra metade" class="form-control fontTexto" onclick="pegarDadosMeio()" data-dismiss="modal">Selecionar a outra metade</button>
                        </div>
       
                    </form>
                </div>
                <div class="modal-footer">
                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Sair</button>
                    
                </div>
            </div>
        </div>
      </div>
    
    <script type="text/javascript">
        
        var vCarrinho = new carrinho();
        
        function adicionarCarrinho(){
            
            vCarrinho.adicionarCarrinho();
            
        }
          
        function comprar(id){
            
                document.getElementById("inputDetalhes").innerHTML = "";
                
                var details = document.getElementById(id + '#').innerHTML.replace("Detalhes: ", "").replace(" e ",",").replace(".","" ).replace(" com ", ",");

                var valorGrande = document.getElementById(id + 'Grande').innerHTML.replace("Grande R$", "");
                var valorBroto = document.getElementById(id + 'Broto').innerHTML.replace("Broto R$", "");
                document.getElementById("tamanhoGrande").innerHTML = "Grande R$ " + valorGrande;
                document.getElementById("tamanhoBroto").innerHTML =  "Broto R$ " + valorBroto;
                document.getElementById("rdGrande").value = "G"+ valorGrande;
                document.getElementById("rdBroto").value = "B" + valorBroto;

                var vetorDetalhes = details.split(",");
                document.getElementById('lblPizza').innerHTML = "Sabor - " + id.replace("%"," ");
                document.getElementById("inputDetalhes").innerHTML = "";
                function colocarCheckBox(item){
                    var inputDetalhes  = ['<input class="" type="checkbox" value="'+ item +'" name="ingrediente" id="'+ item +'"><label class="form-check-label form-check-inline fontTexto" for="'+ item +'" style="margin-left:10px;">'+item+'</label>' ]
                    document.getElementById("inputDetalhes").innerHTML += inputDetalhes;
                }
                vetorDetalhes.forEach(colocarCheckBox);
                
            
            
            
                         
        }
      //colocar dados na url
        function pegarDadosCompra(){
            
            var horario = tempo.horas();
            //if(horario > 01 && horario < 19){
            
                var tamanho = document.querySelector('input[name = tamanho]:checked').value;
                var sabor = document.getElementById('lblPizza').innerHTML.replace("Sabor - ","").replace(/ /g,"1");

                var ingredientes = document.querySelectorAll('input[name="ingrediente"]:checked');
                var ingredientesExtra = document.querySelectorAll('input[name="ingredienteExtra"]:checked');

                var borda = "Sem1borda";
                if(document.querySelector('input[name = borda]:checked') != null){
                     borda = document.querySelector('input[name = borda]:checked').value;
                }else{
                               }
                var str;
                var str2;


                for(var x = 0, l = ingredientes.length ; x < l;  x++)
                {
                    str +=     "$" +  ingredientes[x].value.replace(/ /g,"1")  ;
                }
                 for(var x = 0, l = ingredientesExtra.length ; x < l;  x++)
                {
                    str2 += "$" + ingredientesExtra[x].value.replace(/ /g,"1") ;
                }
                if(str != null){
                    var strIngrediente = str.replace("undefined","");
                    strIngrediente = "%" + strIngrediente;
                }else{
                    var strIngrediente = "%Sem1Especificacoes";    
                }
                if(str2 != null){
                    var strIngredienteExtra = "%" + str2.replace("undefined","");
                }
                else{
                    var strIngredienteExtra = "%Sem1Extras";    
                }



                var lblMeio = document.getElementById("lblMeio");
                if(lblMeio.innerHTML != ""){

                    var j = lblMeio.innerHTML;
                    j = j.split("%");
                    if(j[0] != null){
                        sabor +=  "$" + j[0];
                    }
                 
                    if(j[1] != null){
                        if(strIngrediente == "%Sem1Especificacoes"){
                            for(var k = 1, l= j.length;k<l;k++){
                                strIngrediente = "%$" + j[k];

                            }
                        }else{
                            for(var k = 1, l= j.length;k<l;k++){
                                let m  = strIngrediente.slice(1);
                                strIngrediente = "%$" + j[k] + m ;

                            }

                        }
                    }else{

                    }

                }else{
                    var j = " ";
                }
                var quantidade = document.getElementById("quantidade").value;
                var link = btoa(  sabor+ "%" + tamanho +"%" +quantidade+ strIngrediente + "%" + borda +   strIngredienteExtra);
                location.assign("compra.html?" + link);
                
           // }else{
               // alert("Pizzaria fechada filho da puta!");
          //  }
        }
          //colocar dados no modal
        function meio(id){
            document.getElementById("inputDetalhesMeio").innerHTML = "";
             var details = document.getElementById(id + '#').innerHTML.replace("Detalhes: ", "").replace(" e ",",").replace(".","" ).replace(" com ", ",");
             
             var vetorDetalhes = details.split(",");
             document.getElementById('lblPizzaMeio').innerHTML = "Meia - " + id.replace("%"," ") ;
             function colocarCheckBox(item){
                var inputDetalhes  = ['<input class="" type="checkbox" value="'+ item +'" name="ingredienteMeio" id="'+ item +'"><label class="form-check-label fontTexto" for="'+ item +'" style="margin-left:10px;">'+item+'</label><br/>' ]
                document.getElementById("inputDetalhesMeio").innerHTML += inputDetalhes;
             }
             vetorDetalhes.forEach(colocarCheckBox);
                         
        }
          //colocar dados na url
        function pegarDadosMeio(){
            var ingredientes = document.querySelectorAll('input[name="ingredienteMeio"]:checked');
            var sabor = document.getElementById('lblPizzaMeio').innerHTML.replace("Meia - ","").replace(/ /g,"1");
            var str = "";
            
            for(var x = 0, l = ingredientes.length; x < l;  x++){
           
                str += ingredientes[x].value.replace(/ /g,"1") + "%";
            }
            
            var lblMeio = document.getElementById("lblMeio");
            lblMeio.style.display="none";
            if(str != ""){
                var y = str.replace("undefined",""); 
                var str2 = sabor + "%" + y;
            }else{
                var str2 = sabor+ "%";
            }


            lblMeio.innerHTML = str2.slice(0, -1);
            
            var desabilitarCompra = document.querySelectorAll('[name=btnComprar]');
            
            for(var i = 0; i < desabilitarCompra.length; i++){
            
                console.log(desabilitarCompra.item(i));
                desabilitarCompra.item(i).disabled = true;
                
            }
            
        }
        
        var database;
        database = firebase.database();

        function logout(){

            firebase.auth().signOut().then(function(){
                alert("saiu");
            }).catch(function(error){

            });
        }
          
        function tipo(obj){
                
            if (obj.id == 'checkDoce'){
                if(obj.checked == true){

                    var habilitador = document.getElementsByName('filtroDetalhe');
                    var i;
                    for(i = 0; i < habilitador.length; i++){
                        habilitador[i].disabled = true;
                        habilitador[i].checked = false;
                    }
                }else{
                    var habilitador = document.getElementsByName('filtroDetalhe');
                    var i;
                    for(i = 0; i < habilitador.length; i++){
                        habilitador[i].disabled = false;

                    }
                }
            }
        }
          
                
        function btnFiltrar(){
            var filtroDetalhes = document.querySelectorAll('[name=filtroDetalhe]:checked');
            var filtroPreco = document.querySelectorAll('[name=filtroPreco]:checked');
            var filtroTipo = document.querySelectorAll('[name=filtroTipo]:checked');
            var valueDetalhes = [];
            var valuePreco = [];
            var valueTipo = [];
            var i;
            for(i = 0; i < filtroDetalhes.length; i++){
                if(filtroDetalhes[i].checked){
                    valueDetalhes.push(filtroDetalhes[i].value);
                }
            }
            for(i = 0; i < filtroPreco.length; i++){
                if(filtroPreco[i].checked){
                    valuePreco.push(filtroPreco[i].value);  
                }
            }
            for(i = 0; i < filtroTipo.length; i++){
                if(filtroTipo[i].checked){
                    valueTipo.push(filtroTipo[i].value);

                }
            }

            var detalhesString = valueDetalhes.toString().split(",");
            var precoString = valuePreco.toString().split(",");
            var tipoString = valueTipo.toString();

            document.getElementById('divPizzas').innerHTML = '<h1 class="text-center my-3 font col-12"><b>Pizzas</b></h1>';
            document.getElementById('divPizzasDoce').innerHTML = '<h1 class="text-center my-3 font col-12"><b>Pizzas Doce</b></h1>';
            var ref = firebase.database().ref('pizzas/').orderByChild("valorGrande").startAt(precoString[0]);
            return ref.once('value').then(function(snapshot){

                snapshot.forEach(function(childSnapshot){

                    if(snapshot.exists){
                        const obj = Object.values(childSnapshot.val());
                        var ingredientesSeparados = obj[0].replace(/ e /g, ",").replace(/ com /g, ",").replace(/ ou /g, ",").replace(/ /g, ",").replace(/ /g, "").toLowerCase().split(",");
                        var valorPizza = obj[4];

                        var i;
                        var ingredientes1 = [];
                        for(i = 0; i < ingredientesSeparados.length; i++){

                            var a;

                            for(a = 0; a < detalhesString.length; a++){

                                if(ingredientesSeparados[i] == detalhesString[a]){

                                    ingredientes1.push(ingredientesSeparados[i]);
                                    ingredientes1 = ingredientes1.sort();
                                }

                                var ingredientes2 = valueDetalhes.sort().toString();

                                if(detalhesString != "" && precoString != ""){

                                    if((ingredientes1 == ingredientes2) && (valorPizza == precoString[0] || valorPizza == precoString[1] || valorPizza == precoString[2] || valorPizza == precoString[3])){

                                        if(obj[2] == "salgado"){

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzas').innerHTML += card;
                                        }else{

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzasDoce').innerHTML += card;
                                        }
                                        i = 100;
                                        break;

                                    }
                                }else if(detalhesString != ""){

                                    if((ingredientes1 == ingredientes2)){

                                        if(obj[2] == "salgado"){

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzas').innerHTML += card;
                                        }else{

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzasDoce').innerHTML += card;
                                        }
                                        i = 100;
                                        break;

                                    }
                                }else if(tipoString == "doce" && precoString != ""){
                                    if((obj[2] == "doce") && (valorPizza == precoString[0] || valorPizza == precoString[1] || valorPizza == precoString[2] || valorPizza == precoString[3])){
                                        console.log("bola");
                                        const card = cardPizza.pizza(obj);

                                        document.getElementById('divPizzasDoce').innerHTML += card;
                                    }
                                    i = 100;
                                    break;

                                }else if(tipoString == "doce"){
                                    if(obj[2] == "doce"){
                                       const card = cardPizza.pizza(obj);

                                        document.getElementById('divPizzasDoce').innerHTML += card;
                                    }

                                    i = 100;
                                    break;
                                }else if(tipoString == "salgado" && precoString != ""){
                                    if((obj[2] == tipoString) && (valorPizza == precoString[0] || valorPizza == precoString[1] || valorPizza == precoString[2] || valorPizza == precoString[3])){
                                        const card = cardPizza.pizza(obj);

                                        document.getElementById('divPizzas').innerHTML += card;
                                    }
                                    i = 100;
                                    break;
                                }else if(tipoString == "salgado"){
                                    if(obj[2] == "salgado"){
                                        const card = cardPizza.pizza(obj);

                                        document.getElementById('divPizzas').innerHTML += card;
                                    }

                                    i = 100;
                                    break;
                                }else if(precoString != ""){

                                    if((valorPizza == precoString[0] || valorPizza == precoString[1] || valorPizza == precoString[2] || valorPizza == precoString[3])){

                                        if(obj[2] == "salgado"){

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzas').innerHTML += card;
                                        }else{

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzasDoce').innerHTML += card;
                                        }
                                        i = 100;
                                        break;

                                    }
                                }else{
                                    if(obj[2] == "salgado"){

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzas').innerHTML += card;
                                        }else{

                                            const card = cardPizza.pizza(obj);

                                            document.getElementById('divPizzasDoce').innerHTML += card;
                                        }
                                        i = 100;
                                        break;
                                }



                            }

                        }


                    }else{
                        console.log("erro doc");
                    }
                });



            });

        }
        window.addEventListener('load', function(){
            
            vCarrinho.recuperarCarrinho();
            
            var logar;
            logar = new Login();
            logar.verificarPersistencia();
            return firebase.database().ref('pizzas/').once('value').then(function(snapshot){

                snapshot.forEach(function(childSnapshot){

                    if(snapshot.exists){

                        const obj = Object.values(childSnapshot.val());


                        if(obj[2] == "salgado"){

                            const card = cardPizza.pizza(obj);

                            document.getElementById('divPizzas').innerHTML += card;
                        }else{

                            const card = cardPizza.pizza(obj);

                            document.getElementById('divPizzasDoce').innerHTML += card;
                        }



                    }else{
                        console.log("erro doc");
                    }
                });

                //console.log(teste);

            });
            
            
            
        });

        function logout(){

            firebase.auth().signOut().then(function(){
                localStorage.removeItem("email");
                window.location.reload(true);
            }).catch(function(error){

            });

        }

        (function(){   
                
            var teste = localStorage.getItem("email");
            console.log(teste);
            if(teste){
                const btnMenuLogin = document.getElementById('btnMenuLogin');
                const btnMenuCadastrar = document.getElementById('btnMenuCadastro');
                btnMenuLogin.classList.add("disabled");
                btnMenuCadastrar.classList.add("disabled");
            }else{
                const btnMenuSair = document.getElementById('btnMenuSair');
                btnMenuSair.classList.add("disabled");
            }
            
            const txtEmail = document.getElementById('txtEmail');
            const txtSenha = document.getElementById('txtSenha');
            const btnLogin = document.getElementById('btnLogin');
            var logar;
            logar = new Login();

            btnLogin.addEventListener('click', e => {
                
                const emailLogin = txtEmail.value;
                const senhaLogin = txtSenha.value;
                
                btnLogin.addEventListener("teste", function(e){

                    logar.logar(emailLogin, senhaLogin);
                    
                    
                }, false);

                var event = new CustomEvent("teste", {detail: {beleza: true}}); 

                btnLogin.dispatchEvent(event);
                
                logar.verificarPersistencia();
                var url = window.location.href;
                console.log(url);
                
                
            });
            
            const txtEmailCadastrar = document.getElementById('txtEmailCadastrar');
            const txtSenhaCadastrar = document.getElementById('txtSenhaCadastrar');
            const btnCadastrar = document.getElementById('btnCadastrar');
            const txtNomeCadastrar = document.getElementById('txtNomeCadastrar');
            const txtConfirmarSenhaCadastrar = document.getElementById('txtConfirmarSenhaCadastrar');
            
            btnCadastrar.addEventListener('click', e => {
                const emailCadastrar =  txtEmailCadastrar.value;
                const senhaCadastrar =  txtSenhaCadastrar.value;
                const nomeCadastrar = txtNomeCadastrar.value;
                const confirmarSenha = txtConfirmarSenhaCadastrar.value;
                
                if(emailCadastrar != "" && senhaCadastrar != "" && nomeCadastrar != "" && senhaCadastrar === confirmarSenha){
                   logar.cadastrar(emailCadastrar, senhaCadastrar, nomeCadastrar);
                }else{
                   alert("Digite todos os campos");
                }
                
                
            });

        }());
        

        var cardPizza = {
            pizza(obj){
                
                return ['<div class="col-md-6 col-lg-4"> <div class="card mb-3 border border-dark shadow fontTexto">     <div class="card-body py-2"> <h4 class="card-title font" id="' + obj[1] + '" value="homer">' + obj[1] + '</h4> <h6 class="card-subtitle text-muted mb-2" id="'+obj[1].replace(" ","%")+'Grande">Grande R$' + obj[4] + ',00</h6> <h6 class="card-subtitle text-muted mb-3" id="'+obj[1].replace(" ","%")+'Broto">Broto R$' + obj[3] + ',00</h6> <p id="'+obj[1].replace(" ","%")+'#"  class="card-text">Detalhes: ' + obj[0] + '.</p> <button class="btn btn-link p-0 card-link text-danger fontTexto" data-toggle="modal" data-target="#modalComprar" id="'+obj[1].replace(" ","%")+'" onclick="comprar(this.id)" >Comprar</button> <button name="btnComprar" class="btn btn-link p-0 card-link text-danger fontTexto" data-toggle="modal" data-target="#modalMeio" id="'+obj[1].replace(" ","%")+'" onclick="meio(this.id)">Meio a Meio</button> </div> </div> </div>'];
            }
        }
        
        var corpoCarrinho = {
            corpo(pizzaCarrinho, i){
                
                return ['<tr><td>' + (i + 1) + '</td><td>' + pizzaCarrinho[0] + '</td><td>' + pizzaCarrinho[1] + '</td><td>R$' + pizzaCarrinho[2] + ',00</td><td>R$' + (pizzaCarrinho[1] * pizzaCarrinho[2]) + ',00</td><td id="' + i + ' " onclick="removerLista(this.id)" style="cursor:pointer;">&times;</td></tr>']
            }
        }
        
        function removerLista(id){
            vCarrinho.removerCarrinho(id);   
        }
        
        var tempo = {
            horas(){
                
                now = new Date;
                return now.getHours();
                

            }
        }
        
        $(document).ready(function(){
 
          $('#showPassword').on('click', function(){
           
            var passwordField = $('#txtSenhaCadastrar');
            
            var passwordFieldType = passwordField.attr('type');
            
            if(passwordFieldType == 'password'){
                
                passwordField.attr('type', 'text');
                $(this).val('Hide');
                
            }else{
                
                passwordField.attr('type', 'password');
                $(this).val('Show');
                
            }
          });
        });
        
    </script>
      
    
    <script src="dist/jqueryjs/jquery.js"></script>
    <script src="dist/popperjs/popper.js"></script>
    <script src="dist/bootstrapjs/bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
      
  </body>
    
</html>